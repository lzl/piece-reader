<template name="following">
  <!-- <div class="hr"></div> -->
  <div class="container">
    <div class="row">
      <nav class="navbar navbar-light">
        <!-- <a class="navbar-brand" href="/">Piece Reader</a> -->
        <ul class="nav navbar-nav">
          <li class="nav-item">
            <div class="nav-link">{{> loginButtons}}</div>
          </li>
          {{#if currentUser}}
          <li class="nav-item {{isActiveRoute 'home'}}">
            <a class="nav-link" href="/">Reader</a>
          </li>
          <li class="nav-item {{isActiveRoute 'following'}}">
            <a class="nav-link" href="/following">Following</a>
          </li>
          {{/if}}
        </ul>
      </nav>
      <!-- <div class="hr"></div> -->
    </div>

    <div class="row">
      {{#if currentUser}}
        {{#if hasCard}}
          {{#each cards}}
            {{> cardFollowing}}
          {{/each}}
        {{else}}
          <ul class="list-group">
            <li class="list-group-item">Fetching...</li>
          </ul>
        {{/if}}
      {{else}}
        <ul class="list-group">
          <li class="list-group-item">Please sign in â†–</li>
        </ul>
      {{/if}}
    </div>
  </div>

  {{> ribbon}}
</template>

<template name="cardFollowing">
  <div class="card card-block">
    <p class="card-text">
      Hostname: {{hostname}}
    </p>

    <div class="list-group">
      {{#each userId}}
        <a href="/follow?hostname={{../hostname}}&userId={{this}}" class="list-group-item">User ID: {{this}}</a>
      {{/each}}
    </div>
  </div>
</template>
